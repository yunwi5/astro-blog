---
import { type CollectionEntry } from "astro:content";
import { getCollection } from "astro:content";

const blogArticles: CollectionEntry<"blog">[] = (await getCollection("blog")).sort((a, b) => {
	return b.data.pubDate.valueOf() - a.data.pubDate.valueOf();
});

const uniqueTags = new Set<string>();
blogArticles.forEach((article) => {
	article.data.tags.forEach((tag) => {
		uniqueTags.add(tag);
	});
});

const sortedTags = Array.from(uniqueTags).sort((a, b) => {
	return a.localeCompare(b);
});
---

<footer class="bg-indigo-900 text-white">
	<div class="container mx-auto mt-10 max-w-screen-xl px-8">
		<div class="grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-4">
			<div class="mt-10">
				<h3 class="text-xl font-semibold mb-4">About</h3>
				<p class="text-white text-sm">
					TechPeople is a blog for tech enthusiasts. We publish articles, stories and tutorials about the latest technology trends and advancements.
				</p>
			</div>
			<div class="mt-10">
				<h3 class="text-xl font-semibold mb-4">Categories</h3>
				<ul class="text-white text-sm">
					{
						sortedTags.map((tag) => (
							<li class="mb-2">
								<a href={`/articles/tags/${tag}`} class="capitalize">
									{tag}
								</a>
							</li>
						))
					}
				</ul>
			</div>
		</div>
	</div>
</footer>
